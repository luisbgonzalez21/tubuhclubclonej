"use strict";(self.webpackJsonp__wix_thunderbolt_app=self.webpackJsonp__wix_thunderbolt_app||[]).push([[4417],{44076:function(e,t,r){r.r(t),r.d(t,{ActiveVariantsApiSymbol:function(){return p.TS},ClassNameApiSymbol:function(){return p.de},page:function(){return P}});var a=r(18037),n=r.n(a),o=r(56510),i=r(25259),c=r(31873),s=r(21980),g=r(18325),l=r(55437),d=r(82168),f=r(24888),p=r(27860),u=r(29360);const m=(e,t)=>{if(!e)return!1;const r=e;return r.id===t||!!r.parentNode&&m(r.parentNode,t)},h=(e,t)=>(t=t||window.innerWidth,!(e.min&&t<e.min)&&!(e.max&&t>e.max));var v=r(42650),E=r(60731);const y={addCompId:!0},b=(0,o.ff)([(0,o.t6)(i.$e,p.u2),p.$3,c.G,s.ZQ,g.C9,l.xP,s.EE,p.cS,p.e1,p.uL,p.k$,p.de,d.C,p.k0,f.O,(0,o.jt)(E.iw)],(({compsToTriggers:e,isTouchDevice:t,compIdsWithAccessibleTrigger:r,effectTriggerToReaction:a},o,i,c,s,g,l,d,{isTriggerBpRangeInCurrentBreakpoint:f},p,{shouldEnableTriggersAndReactions:h},{addClassName:E},b,R,T,$)=>{let k;const w=({compToRegister:e,triggerData:t,triggerType:r})=>{i.register(e,v.gA[r],o.createReaction(t,e),y)},C=({compToRegister:e,triggerData:t,triggerType:r})=>{const i={};n().reduce(t,((e,t,r)=>(t.forEach((t=>{const o=t.triggerBpRange;t.reactions.forEach((t=>{const i=t.reactionData.name?t.reactionData.name:t.reactionData.effect;n().forEach(a,((a,n)=>{a.includes(`#${i}`)&&(e[n]=e[n]||{},e[n][r]=e[n][r]||[],e[n][r]=[...e[n][r],{triggerBpRange:{...o},reactions:[t]}])}))}))})),e)),i),n().forEach(i,((t,a)=>{k?.addEffectCallback(a,r,o.createReaction(t,e))}))},S={};let D=[];const I=t=>{const r=t.target;D.push(t.target);const a=e[r.id]?.focus;a?o.handleReaction(t,a,r.id,!1):Object.entries(e).forEach((([e,a])=>{if(a.focus){const n=(0,u.x3)(r.id),i=n?`${e}${u.nN}${n}`:e,s=c.document.getElementById(i);s&&s.contains(t.target)&&o.handleReaction(t,a.focus,r.id,!1)}}));D.filter((e=>!e.contains(t.target))).forEach((r=>{const a=e[(0,u.is)(r.id)]?.focus;a&&o.handleReaction(t,a,r.id,!0),D=n().remove(D,(e=>!(e.id===r.id)))}))},A=t=>{if(("Space"===t.code||"Enter"===t.key)&&t.target){const r=t.target,a=e[(0,u.is)(r.id)]?.keydown;a&&o.handleReaction(t,a,r.id,!1)}};let j;const N=new Promise((e=>j=e)),x={click:w,tap:w,"mouse-in":w,"mouse-out":w,hover:({compToRegister:e,triggerData:r,pageId:a})=>{if(t){const t=t=>{let c;const s=(0,u.x3)(t)||"",g=g=>{if(m(g.target,e))return;const l=((e,t,r="")=>n().mapValues(e,(e=>e.map((e=>{let a=[];return f(e)&&(a=e.reactions.filter((e=>S[e.reactionData.name+r]===t&&(S[e.reactionData.name]="",!0)))),{...e,reactions:a}})).filter((e=>e)))))(r,e,s);g.compId=t,o.createReverseReaction(l,e)(g),c&&i.unregister(a,"onClick",c),c=null};setTimeout((()=>{c=i.register(a,"onClick",g,y)}),0),((e,t,r)=>{Object.keys(e).forEach((a=>{e[a].forEach((e=>{f(e)&&e.reactions.forEach((e=>{S[e.reactionData.name+t]=r}))}))}))})(r,s,e)};i.register(e,"onClick",o.createReaction(r,e,t),y)}else i.register(e,"onMouseEnter",o.createReaction(r,e),y),i.register(e,"onMouseLeave",o.createReverseReaction(r,e),y)},"animation-start":C,"animation-end":C,"page-visible":({pageId:e,triggerData:t})=>{N.then(o.createReaction(t,e)).catch((e=>l.captureError(e,{tags:{feature:"triggers-and-reactions",methodName:"registerPageVisibleTrigger"}})))}},O={click:({compToRegister:e,triggerData:t})=>{Object.keys(t).forEach((r=>{t[r].some((e=>f(e)))&&(T["specs.thunderbolt.viewport_hydration_react_18"]?b.waitForComponentToRender(e).then((()=>{E(e,"has-click-trigger")})).catch((e=>l.captureError(e,{tags:{feature:"triggers-and-reactions",methodName:"addCssClassToClickTrigger"}}))):E(e,"has-click-trigger"))}))}},P=(t,r)=>{Object.entries(e).forEach((([e,a])=>{Object.entries(a).forEach((([a,n])=>{t[a]?.({compToRegister:e,triggerData:n,triggerType:a,pageId:r})}))}))},_=({element:e,compToRegister:t})=>{d.observe(e,t)},B={"page-visible":({element:e,triggerData:t})=>{N.then(o.createReaction(t,e.id)).catch((e=>l.captureError(e,{tags:{feature:"triggers-and-reactions",methodName:"triggerPageVisibleOnDynamicComps"}})))},"viewport-enter":_,"viewport-leave":_};return{name:"triggersAndReactions",async pageWillMount(e){r.forEach((e=>{const t=g.get(e)?.a11y||{};g.update({[e]:{a11y:{tabIndex:0,...t}}})})),h&&($&&(k=await $.getInstance()),P(x,e))},pageDidMount(e){if(h){const a=r.length>0&&!t;"masterPage"!==s&&a&&(c.addEventListener("focusin",I),c.addEventListener("keydown",A)),k&&p.init(),d.init(),P(O,e),R.init(B)}},appDidLoadPage(){j()},pageDidUnmount(){if(h){r.length>0&&!t&&(c.removeEventListener("keydown",A),c.removeEventListener("focusin",I)),d.destroy()}},pageWillUnmount(){h&&(p.destroy(),Object.keys(a).forEach((e=>{k?.clearEffectCallbacks(e)})))}}}));var R=r(13487),T=r(22678);const $=(e,t)=>`${t.id}__${e}`,k=(0,o.ff)([(0,o.t6)(i.$e,p.u2),p.O5,l.xP,p.e1,p.gQ],(({repeaterDescendantToRepeaterMapper:e},t,r,{isTriggerBpRangeInCurrentBreakpoint:a},n)=>{let o=new WeakMap;const i=({type:e,reactionData:a},i,c)=>{const s=document.getElementById(i),g=$(i,a),l=s&&o.get(s)?.[g];if(s&&!l){switch(e){case"AddState":t.addState(a.name,i),c&&c(i);break;case"RemoveState":t.removeState(a.name,i),c&&c(i);break;case"ToggleState":t.toggleState(a.name,i);break;case"RemoveAllStates":t.removeAllStates(i);break;case"ScrollForward":(0,T.t)(r.get(i),i,"forward");break;case"ScrollBackward":(0,T.t)(r.get(i),i,"backward");break;case"Play":n.play(a.effect,i)}if(a.once){const e=o.get(s)||{};e[$(i,a)]=!0,o.set(s,e)}}},c=(t,n,o,c,s)=>{Object.keys(n).forEach((g=>{const l=n[g],d=((e,t,r,a)=>{const n=r[e];if(n){if(n!==r[(0,u.is)(t)]){const{items:t=[]}=a.get(r[e]);return t.map((t=>(0,u.as)(e,t)))}return[(0,u.as)(e,(0,u.pE)(t))]}return[e]})(g,t&&t.compId?t.compId:o,e,r);for(const e of d)l.filter((e=>a(e))).forEach((t=>t.reactions.forEach((t=>{if(c){const r=v.MN[t.type];r&&i({...t,type:r},e)}else i(t,e,s)}))))}))},s=(e,t,r,a)=>n=>{c(n,e,t,r,a)};return{createReaction(e,t,r){return s(e,t,!1,r)},createReverseReaction(e,t){return s(e,t,!0)},handleReaction:c,pageWillUnmount(){o=new WeakMap}}})),w=(0,o.ff)([l.xP,p.de],((e,{addClassName:t,removeClassName:r})=>{let a={},n=()=>{};const o=e=>{n(e,a[e])},i=(e,r)=>{e&&(t(r,e),a[r]||(a[r]=[]),a[r].push(e),o(r))},c=(e,t)=>{e&&(r(t,e),a[t]&&(a[t]=a[t].filter((t=>t!==e)),o(t)))};return{name:"reactionsStateApi",pageWillMount(){a={},n=()=>{}},addState:i,removeState:c,toggleState:(e,t)=>{e&&(!a[t]||a[t].indexOf(e)<0?i(e,t):c(e,t))},removeAllStates:e=>{a[e]&&a[e].forEach((t=>{r(e,t)})),a[e]=[],o(e)},registerToActiveEffectsChange:e=>{n=e}}})),C=(0,o.ff)([p.O5,(0,o.t6)(i.$e,p.u2),(0,o.t6)(i.z8,p.u2)],((e,t,r)=>{const a=(e,r)=>{const a=(0,u.is)(e);return t.compEffectsToVariantId[a][r]},n=(t,r)=>{r.forEach((r=>{e.toggleState(a(t,r),t)}))},o=t=>{e.removeAllStates(t)},i=(t,r)=>{r.forEach((r=>{e.addState(a(t,r),t)}))},c=(t,r)=>{r.forEach((r=>{e.removeState(a(t,r),t)}))},s=r=>{e.registerToActiveEffectsChange(((e,a)=>r(e,a.map((e=>t.variantIdToEffect[e])))))};return r.export({applyEffects:i,removeEffects:c}),{getSdkHandlers:()=>({[p.u2]:{toggleEffects:n,removeAllEffects:o,applyEffects:i,removeEffects:c,registerToActiveEffectsChange:s}})}})),S=(0,o.ff)([(0,o.t6)(i.$e,p.u2),p.$3,s.ZQ],(({compsToTriggers:e,viewportTriggerCompsToParams:t},r,a)=>{const n={},o=t=>{const a=e[(0,u.is)(t)]["viewport-enter"];r.handleReaction(null,a,t,!1)},i=()=>{let t=!0;return a=>{if(t)return a.filter((e=>e.isIntersecting)).forEach((e=>o(e.target.id))),void(t=!1);a.forEach((t=>{t.isIntersecting?o(t.target.id):(t=>{const a=e[(0,u.is)(t)]["viewport-leave"];a&&r.handleReaction(null,a,t,!1)})(t.target.id)}))}},c=e=>{const t=(({threshold:e,margin:{top:t,bottom:r,left:a,right:n}})=>`${e}_${t.value}${t.type}_${n.value}${n.type}_${r.value}${r.type}_${a.value}${a.type}`)(e),{threshold:r,margin:{top:o,bottom:c,left:s,right:g}}=e;return n[t]||(n[t]=new a.IntersectionObserver(i(),{threshold:r,rootMargin:`${o.value}${o.type} ${g.value}${g.type} ${c.value}${c.type} ${s.value}${s.type}`})),n[t]};return{init:()=>{const e=a.document.getElementById("SITE_CONTAINER"),r=a.innerHeight;Object.entries(t).forEach((([t,a])=>{e.querySelectorAll(`#${t}, ${(0,u.ZH)(t)}`).forEach((e=>{if(e){e.offsetHeight>r&&(a.threshold=.01);c(a).observe(e)}}))}))},observe:(e,r)=>{const a=t[r];c(a).observe(e)},destroy:()=>{Object.values(n).forEach((e=>e.disconnect()))}}})),D=(0,o.ff)([],(()=>({isTriggerBpRangeInCurrentBreakpoint:e=>h(e.triggerBpRange)}))),I=(0,o.ff)([(0,o.jt)(E.iw),s.EE],((e,t)=>{let r;e?.getInstance().then((e=>{r=e})).catch((e=>t.captureError(e,{tags:{feature:"triggers-and-reactions"},groupErrorsBy:"values"})));return{play:(e,t)=>{r?.trigger({play:[{effectId:e,targetId:t}]})},scrub:(e,t)=>{r?.trigger({scrub:e},t)}}})),A=(0,o.ff)([l.xP],(e=>{const t=t=>{const r=e.get(t)?.className;return r?r.split(" "):[]};return{addClassName:(r,a)=>{const n=t(r),o=[...new Set([...n,a])];e.update({[r]:{className:o.join(" ")}})},removeClassName:(r,a)=>{const n=t(r).filter((e=>e!==a)).join(" ");e.update({[r]:{className:n}})}}}));var j=r(52192);const N=(0,o.ff)([(0,o.t6)(i.$e,p.u2),s.ZQ,p.gQ],(({scrubReactionWithBpRanges:e,scrubBpRanges:t},r,a)=>{const n=[];let o=!1;const i=e=>{const t=r.innerWidth;a.scrub(s(t),e)},c=e=>{e.matches&&i(!0)},s=t=>e.reduce(((e,r)=>{if(!(o||"pointer-move"!==r.triggerData.trigger))return e;return h(r.triggerBpRange,t)&&r.reactions.forEach((t=>{e[t.reactionData.effect]=r.triggerData})),e}),{});return{init:()=>{(0,j.yF)(r)||(o=r.matchMedia("(hover: hover)").matches,(()=>{let e=!1,a=!1;t.forEach((t=>{const o=(e=>{const t=[];return e.max&&t.push(`(max-width:${e.max}px)`),e.min&&t.push(`(min-width:${e.min}px)`),t.join(" and ")})(t);if(o){const e=r.matchMedia(o);n.push(e),e.addEventListener("change",c),e.matches&&(a=!0,i())}else e=!0})),!a&&e&&i()})())},destroy:()=>{(0,j.yF)(r)||(n.forEach((e=>{e.removeEventListener("change",c)})),n.length=0)}}})),x=(0,o.ff)([s.ZQ],(e=>({shouldEnableTriggersAndReactions:!(0,j.yF)(e)}))),O=(0,o.ff)([(0,o.t6)(i.$e,p.u2),g.C9,(0,o.t6)(i.z8,p.u2),s.ZQ],(({compsToTriggers:e,dynamicCompToDescendants:t},r,a,n)=>{const o=new WeakMap;let i;const c=e=>{e.forEach((e=>{if(e.addedNodes.length){const t=o.get(e.target);i?.(t,e.addedNodes)}}))};let s;(0,j.yF)(n)||(s=new MutationObserver(c));const g=(e,r)=>{t[e]&&(o.set(r,e),s?.observe(r,{childList:!0}))};return a.export({observeChildListChange:g}),{init:a=>{i=function(n,o){const i=Array.from(t[n]).map((e=>`#${e}, ${(0,u.ZH)(e)}`)).join();o.forEach((t=>{const n=Array.from(t.querySelectorAll(i));t.matches(i)&&n.push(t),n.forEach((t=>{const n=(0,u.is)(t.id),o=e[n];Object.entries(o).forEach((([e,o])=>{a[e]?.({compToRegister:n,triggerData:o,triggerType:e,pageId:r,element:t})}))}))}))}},observe:g,destroy:()=>{s?.disconnect()}}})),P=e=>{e(p.$3,R.j.PageWillUnmountHandler).to(k),e(p.cS).to(S),e(R.j.PageWillMountHandler,p.O5).to(w),e(p.de).to(A),e(R.j.PageWillMountHandler,R.j.PageDidMountHandler,R.j.PageDidUnmountHandler,R.j.AppDidLoadPageHandler,R.j.PageWillUnmountHandler).to(b),e(s.CT).to(C),e(p.e1).to(D),e(p.gQ).to(I),e(p.uL).to(N),e(p.k$).to(x),e(p.k0).to(O)}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/group_30.6efd49d4.chunk.min.js.map